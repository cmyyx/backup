# åŸºæœ¬è®¾ç½®
port: 7890                # HTTPä»£ç†ç«¯å£
socks-port: 7891          # SOCKSä»£ç†ç«¯å£
allow-lan: false           # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*"         # ç»‘å®šåœ°å€ï¼Œ* è¡¨ç¤ºæ‰€æœ‰åœ°å€
mode: rule                # ä»£ç†æ¨¡å¼ï¼Œruleè¡¨ç¤ºè§„åˆ™æ¨¡å¼
log-level: info           # æ—¥å¿—çº§åˆ«
ipv6: false
# å¤–éƒ¨æ§åˆ¶é…ç½®
# external-controller: 127.0.0.1:9090 # å…è®¸é€šè¿‡ RESTful API æˆ– Web ç•Œé¢ï¼ˆå¦‚ Clash Dashboardï¼‰åœ¨æœ¬åœ°æ§åˆ¶ Clash
# secret:    å»ºè®®è®¾ç½®  #å¤–éƒ¨æ§åˆ¶,apiè®¿é—®å¯†é’¥ï¼Œç¡®ä¿åªæœ‰çŸ¥é“å¯†ç çš„äººæ‰èƒ½æ§åˆ¶ Clash
# æ€§èƒ½ä¼˜åŒ–
unified-delay: true       # æ›´æ¢å»¶è¿Ÿè®¡ç®—æ–¹å¼ï¼Œå»é™¤æ¡æ‰‹ç­‰é¢å¤–å»¶è¿Ÿ
tcp-concurrent: true      # å¯ç”¨ TCP å¹¶å‘è¿æ¥ã€‚è¿™å…è®¸ Clash åŒæ—¶å»ºç«‹å¤šä¸ª TCP è¿æ¥ï¼Œå¯ä»¥æé«˜ç½‘ç»œæ€§èƒ½å’Œè¿æ¥é€Ÿåº¦

find-process-mode: strict  # è®¾ç½®è¿›ç¨‹æŸ¥æ‰¾æ¨¡å¼ä¸ºä¸¥æ ¼æ¨¡å¼ï¼ŒClash ä¼šæ›´ç²¾ç¡®åœ°è¯†åˆ«å’ŒåŒ¹é…ç½‘ç»œæµé‡æ¥æºçš„è¿›ç¨‹
global-client-fingerprint: chrome  # è®¾ç½®å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹ä¸º Chromeï¼Œä½¿ Clash åœ¨å»ºç«‹è¿æ¥æ—¶æ¨¡æ‹Ÿ Chrome æµè§ˆå™¨çš„ TLS æŒ‡çº¹ï¼Œå¢å¼ºéšç§æ€§å’Œç»•è¿‡æŸäº›ç½‘ç«™çš„æŒ‡çº¹æ£€æµ‹
# Profile Enhancement Merge Template for Clash Verge, Adapted for Sub-Store
proxy-groups:
  - name: å”¯å¿«ä¸ç ´
    include-all: true
    type: select
    proxies:
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://github.com/clash-verge-rev/clash-verge-rev/raw/main/src-tauri/icons/icon.png

  - name: dialer-selector
    include-all: true
    type: select
    exclude-filter: "webshare|å…¶ä»–ä»»ä½•ä½ çš„èŠ‚ç‚¹çš„åç§°,å¯ä»¥è®©AIå‘Šè¯‰ä¸€ä¸‹ä½ çš„èŠ‚ç‚¹è¦æ€ä¹ˆå†™"  # æ’é™¤ä½ è¦é“¾å¼ä»£ç†çš„èŠ‚ç‚¹,é¿å…å¾ªç¯å¼•ç”¨
    proxies:
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://github.com/clash-verge-rev/clash-verge-rev/raw/main/src-tauri/icons/icon.png

  - name: è‡ªåŠ¨é€‰æ‹©
    type: url-test
    include-all: true
    url: http://www.gstatic.com/generate_204
    interval: 300
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/adjust.svg

  - name: AI
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/OpenAI.png

  - name: å›½å¤–ç½‘ç«™
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png

  - name: å›½é™…åª’ä½“
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png

  - name: è‹¹æœæœåŠ¡
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple_1.png

  - name: å¾®è½¯æœåŠ¡
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png

  - name: è°·æ­ŒæœåŠ¡
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png

  - name: ç”µæŠ¥æ¶ˆæ¯
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png

  - name: æ¨ç‰¹æ¶ˆæ¯
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Twitter.png

  - name: æ¸¸æˆå¹³å°
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Game.png

  - name: Emby
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png

  - name: å¹¿å‘Šæ‹¦æˆª
    include-all: true
    type: select
    proxies:
      - REJECT
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png

  - name: å…œåº•åˆ†æµ
    include-all: true
    type: select
    proxies:
      - å”¯å¿«ä¸ç ´
      - Direct
      - è‡ªåŠ¨é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png

  - name: Direct
    include-all: true
    type: select
    proxies:
      - DIRECT



rule-providers:
  # AI ç±»
  ai:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/ai.yaml
    url: "https://fastly.jsdelivr.net/gh/MadisonWirtanen/WARP-Clash-with-ZJU-Rules@main/ai.yaml"
    interval: 86400
    
  Gemini: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/Gemini.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/Gemini.yaml"
    interval: 86400

  Claude: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/Claude.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/Claude.yaml"
    interval: 86400

# å¹¿å‘Šç±»
  AdBlock:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/AdBlock.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/AdBlock.yaml"
    interval: 86400
    
  BanAD:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list"
    path: ./ruleset/BanAD.yaml
    interval: 86400

  BanProgramAD:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list"
    path: ./ruleset/BanProgramAD.yaml
    interval: 86400

  BanEasyList:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyList.list"
    path: ./ruleset/BanEasyList.yaml
    interval: 86400

  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400

# è¡¥ä¸ç±»
  collection: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/collection.yaml
    url: "https://gist.githubusercontent.com/cnfree8964/0864fd1d2e88936a095fb40d74ce4993/raw/collection.yaml"

  gfw:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
    path: ./ruleset/gfw.yaml
    interval: 86400

  proxy:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
    path: ./ruleset/proxy.yaml
    interval: 86400

  tld-not-cn:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt"
    path: ./ruleset/tld-not-cn.yaml
    interval: 86400

  ProxyGFWlist:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list"
    path: ./ruleset/BanEasyList.yaml
    interval: 86400

  ProxyClient: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/ProxyClient.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/ProxyClient.yaml"

  ChinaDomain:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/ChinaDomain.yaml
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list"
    interval: 86400

  ChinaCompanyIp:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/ChinaCompanyIp.yaml
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list"
    interval: 86400

  China: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/China.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/China.yaml"
    interval: 86400

  cncidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
    path: ./ruleset/cncidr.yaml
    interval: 86400

  lancidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./ruleset/lancidr.yaml
    interval: 86400

# æœåŠ¡ç±»
  telegramcidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"
    path: ./ruleset/telegramcidr.yaml
    interval: 86400

  PayPal: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/PayPal.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/PayPal.yaml"
    interval: 86400

  TikTok: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/TikTok.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/TikTok.yaml"
    interval: 86400

  IDM: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/IDM.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/IDM.yaml"

# æµåª’ä½“
  Amazon: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/Amazon.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/Amazon.yaml"
    interval: 86400

  Netflix: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/Netflix.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/Netflix.yaml"
    interval: 86400

  Spotify: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/Spotify.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/Spotify.yaml"
    interval: 86400
    
  DisneyPlus: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/DisneyPlus.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/DisneyPlus.yaml"
    
  Hulu: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/Hulu.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/Hulu.yaml"

  HBO: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/HBO.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/HBO.yaml"

# æ¸¸æˆç±»
  Steam: 
    type: http
    behavior: classical
    format: yaml
    path: ./rules/Steam.yaml
    url: "https://cdn.jsdelivr.net/gh/zuluion/Clash-Template-Config@master/Filter/Steam.yaml"
    interval: 86400
  AD:
    type: http
    behavior: classical
    url: https://adrules.top/adrules_domainset.txt
    path: ./rule-providers/AD.list

  Apple:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Apple.list
    path: ./rule-providers/Apple.list

  Google:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Google.list
    path: ./rule-providers/Google.list

  YouTube:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/YouTube.list
    path: ./rule-providers/YouTube.list

  Telegram:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Telegram.list
    path: ./rule-providers/Telegram.list

  Twitter:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Twitter.list
    path: ./rule-providers/Twitter.list

  Epic:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Epic.list
    path: ./rule-providers/Epic.list

  AI:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/AI.list
    path: ./rule-providers/AI.list

  Emby:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Emby.list
    path: ./rule-providers/Emby.list


  Bahamut:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Bahamut.list
    path: ./rule-providers/Bahamut.list


  Disney:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Disney.list
    path: ./rule-providers/Disney.list

  PrimeVideo:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/PrimeVideo.list
    path: ./rule-providers/PrimeVideo.list

  OneDrive:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/OneDrive.list
    path: ./rule-providers/OneDrive.list

  Github:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Github.list
    path: ./rule-providers/Github.list

  Microsoft:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Microsoft.list
    path: ./rule-providers/Microsoft.list

  Lan:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Lan.list
    path: ./rule-providers/Lan.list

  ProxyGFW:
    type: http
    behavior: classical
    url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/ProxyGFW.list
    path: ./rule-providers/ProxyGFW.list



# dns:
#   enable: true
#   ipv6: false
#   enhanced-mode: redir-host
#   listen: 0.0.0.0:1053
#   default-nameserver:
#   - tls://1.12.12.12
#   - 119.29.29.29
#   nameserver:
#   - 8.8.8.8
#   - 8.8.4.4
#   - tls://1.1.1.1
#   - tls://8.8.8.8
#   - https://cloudflare-dns.com/dns-query
#   - https://dns.google/dns-query
#   nameserver-policy:
#     geosite:cn: https://doh.pub/dns-query

# dns:
#   enable: true
#   ipv6: false
#   default-nameserver:
#     - 223.5.5.5
#     - 223.6.6.6
#   nameserver:
#     - 1.1.1.1
#     - 8.8.8.8
#   fallback:
#     - tls://1.1.1.1:853
#     - tls://8.8.8.8:853
#   fallback-filter:
#     geoip: true
#     geoip-code: CN
#     ipcidr:
#       - 240.0.0.0/4
#   enhanced-mode: fake-ip
#   fake-ip-range: 198.18.0.1/16
#   fake-ip-filter:
#     - '*.lan'
#     - 'localhost.ptlogin2.qq.com'
#     - 'dns.msftncsi.com'
#     - 'www.msftncsi.com'
#     - 'www.msftconnecttest.com'


# DNSé…ç½®
dns:
  enable: true            # å¯ç”¨ Clash çš„ DNS åŠŸèƒ½
  ipv6: false              # IPv6 DNS è§£æ
  listen: '0.0.0.0:53'    # DNS æœåŠ¡å™¨ç›‘å¬åœ°å€å’Œç«¯å£ï¼Œ:53 è¡¨ç¤ºç›‘å¬æ‰€æœ‰æ¥å£çš„ 53 ç«¯å£
  enhanced-mode: fake-ip  # è®¾ç½®å¢å¼ºæ¨¡å¼ä¸º fake-ip æ¨¡å¼ï¼Œæé«˜è§£æé€Ÿåº¦å’Œè¿æ¥æ€§èƒ½
  fake-ip-range: 198.18.0.1/16  # è®¾ç½® fake-ip çš„ IP åœ°å€èŒƒå›´ä¸º 198.18.0.1/16
  use-hosts: true         # å¯ç”¨ hosts æ–‡ä»¶è§£æï¼ŒClash ä¼šæ£€æŸ¥ç³»ç»Ÿçš„ hosts æ–‡ä»¶
  use-system-hosts: true  # ä½¿ç”¨ç³»ç»Ÿçš„ hosts æ–‡ä»¶è¿›è¡ŒåŸŸåè§£æ
  prefer-h3: true         # å¦‚æœDNSæœåŠ¡å™¨æ”¯æŒDoH3ä¼šä¼˜å…ˆä½¿ç”¨h3ï¼Œæå‡æ€§èƒ½
  respect-rules: true     # è®© DNS è§£æéµå¾ª Clash çš„è·¯ç”±è§„åˆ™
  # å®šä¹‰ä¸ä½¿ç”¨è™šå‡IPè§£æçš„åŸŸååˆ—è¡¨
  fake-ip-filter:
    - '*.lan'
    - localhost.ptlogin2.qq.com
    - '+.srv.nintendo.net'
    - '+.stun.playstation.net'
    - '+.msftconnecttest.com'
    - '+.msftncsi.com'
    - '+.xboxlive.com'
    - 'xbox.*.microsoft.com'
    - '*.battlenet.com.cn'
    - '*.battlenet.com'
    - '*.blzstatic.cn'
    - '*.battle.net'
  

  # å»ºè®®å¤šå†™ç‚¹ DNS ï¼ˆ clash çš„æœºåˆ¶æ˜¯åŒæ—¶å‘æ‰€æœ‰ DNS å‘èµ·è§£æè¯·æ±‚ï¼Œç”¨è¿”å›æœ€å¿«é‚£ä¸ªï¼Œåç»­çš„ç›´æ¥ä¸¢å¼ƒï¼‰
  # ç”¨æ¥è§£æ nameserver å’Œ fallback é‡Œé¢çš„åŸŸåçš„ï¼Œå¿…é¡»ä¸º IP, å¯ä¸ºåŠ å¯† DNS
  default-nameserver:
    - 8.8.8.8           # Google DNS
    - 1.1.1.1           # Cloudflare DNS
    - 119.29.29.29      # è…¾è®¯DNSPod
    - 223.5.5.5         # é˜¿é‡ŒDNS
    - 223.6.6.6         # é˜¿é‡ŒDNS
    - 180.76.76.76      # ç™¾åº¦DNS

  # ç”¨äºdirectå‡ºå£åŸŸåè§£æçš„ DNS æœåŠ¡å™¨
  # å¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
  direct-nameserver:
    - system
    - https://doh.pub/dns-query          #è…¾è®¯
    - https://dns.alidns.com/dns-query   #é˜¿é‡Œ
    - 114.114.114.114                    # 114
    - 114.114.115.115                    # 114
    - 101.226.4.6                        # ç™¾åº¦-ç”µä¿¡
    - 123.125.81.6                       # ç™¾åº¦-è”é€š
    - 180.76.76.76                       # ç™¾åº¦-è”é€š
    - 112.124.47.27                      # OneDNS-å—æ–¹
    - 114.215.126.16                     # OneDNS-åŒ—æ–¹
  nameserver: 
    - https://8.8.8.8/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    - https://1.1.1.1/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  # è§£æä»£ç†æœåŠ¡å™¨åŸŸåçš„DNSæœåŠ¡å™¨,å°±æ˜¯èŠ‚ç‚¹æœ¬èº«ä¸­åŒ…å«çš„åŸŸå
  # ä»£ç†èŠ‚ç‚¹åŸŸåè§£ææœåŠ¡å™¨ï¼Œä»…ç”¨äºè§£æä»£ç†èŠ‚ç‚¹çš„åŸŸåï¼Œå¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
  proxy-server-nameserver:
    - https://1.1.1.1/dns-query          # Cloudflare DNS
    - https://8.8.8.8/dns-query          # Google DNS
    - https://doh.pub/dns-query          #è…¾è®¯
    - https://dns.alidns.com/dns-query   #é˜¿é‡Œ
    - https://9.9.9.9/dns-query          #Quad9
    - https://208.67.222.222/dns-query   #OpenDNS

# é…ç½®æ–‡ä»¶ç®¡ç†
profile:
  store-selected: true    # ä¿å­˜ç”¨æˆ·é€‰æ‹©çš„ä»£ç†é…ç½®ï¼Œåœ¨ Clash é‡å¯åä»ç„¶è®°ä½ä¸Šæ¬¡é€‰æ‹©çš„ä»£ç†æœåŠ¡å™¨
  store-fake-ip: true     # é€‚ç”¨äº Clash åœ¨ Fake IP æ¨¡å¼ä¸‹å·¥ä½œæ—¶ã€‚å®ƒä¼šå°†åŸŸååˆ° Fake IP çš„æ˜ å°„å…³ç³»ä¿å­˜ä¸‹æ¥ï¼Œç¡®ä¿ Clash é‡å¯åä¾ç„¶èƒ½ä½¿ç”¨ç›¸åŒçš„ Fake IP åˆ†é…ç»™ç›¸åŒçš„åŸŸåï¼Œä¿æŒè¿æ¥çš„ä¸€è‡´æ€§å’Œç¨³å®šæ€§

# åŸŸåå—…æ¢
sniffer:
  enable: true            # å¯ç”¨ç½‘ç»œæµé‡å—…æ¢åŠŸèƒ½ï¼Œå…è®¸ Clash åˆ†æå’Œè¯†åˆ«æµé‡ç±»å‹
  sniff:
    TLS:
      ports: [443, 8443]  # è¦å—…æ¢çš„ TLS æµé‡ç«¯å£ï¼ŒåŒ…æ‹¬æ ‡å‡† HTTPS ç«¯å£ 443 å’Œå¸¸ç”¨çš„å¤‡ç”¨ HTTPS ç«¯å£ 8443
    HTTP:
      ports: [80, 8080-8880]  # è¦å—…æ¢çš„ HTTP æµé‡ç«¯å£ï¼ŒåŒ…æ‹¬æ ‡å‡† HTTP ç«¯å£ 80 å’Œå¸¸ç”¨çš„ HTTP ç«¯å£èŒƒå›´ 8080-8880
      override-destination: true  # å¯ç”¨ç›®æ ‡è¦†ç›–åŠŸèƒ½ï¼Œå…è®¸ Clash æ ¹æ®å—…æ¢åˆ°çš„åŸŸåé‡å†™è¯·æ±‚çš„ç›®æ ‡åœ°å€

# GeoData é…ç½®
geodata-mode: true        # å¯ç”¨åœ°ç†æ•°æ®æ¨¡å¼ï¼Œä½¿ Clash ä½¿ç”¨ GeoIP/GeoSite æ•°æ®åº“è¿›è¡Œæµé‡çš„åœ°ç†ä½ç½®è¯†åˆ«å’Œè§„åˆ™åŒ¹é…
geo-auto-update: true     # å¯ç”¨åœ°ç†æ•°æ®åº“è‡ªåŠ¨æ›´æ–°åŠŸèƒ½ï¼ŒClash ä¼šå®šæœŸæ£€æŸ¥å¹¶æ›´æ–° GeoIP/GeoSite æ•°æ®åº“
geo-update-interval: 24   # è®¾ç½®åœ°ç†æ•°æ®åº“çš„æ›´æ–°é—´éš”ä¸º24å°æ—¶ï¼ŒClash ä¼šæ¯24å°æ—¶è‡ªåŠ¨æ£€æŸ¥ä¸€æ¬¡æ›´æ–°ï¼ˆå°æ—¶ï¼‰
geodata-loader: standard  # è®¾ç½®åœ°ç†æ•°æ®åŠ è½½å™¨ä¸ºæ ‡å‡†æ¨¡å¼ï¼Œä½¿ç”¨æ ‡å‡†çš„æ•°æ®è§£æå’ŒåŠ è½½æ–¹å¼å¤„ç†åœ°ç†æ•°æ®åº“
# GeoDataä¸‹è½½æºï¼ˆä½¿ç”¨å›½å†…åŠ é€Ÿä¸‹è½½æºï¼‰
# å¤‡ç”¨ä¸‹è½½åŸŸåhttps://ghfast.topã€https://ghproxy.netã€https://ghgo.xyz
geox-url:
  geoip: https://fastgh.lainbo.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat
  geosite: https://fastgh.lainbo.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat
  mmdb: https://fastgh.lainbo.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb
  asn: https://fastgh.lainbo.com/https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb

tun:
  enable: true
  stack: mixed
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
  dns-hijack:
    - any:53
    - tcp://any:53
  device: utun0
  mtu: 1500
  strict-route: true
  gso: true
  gso-max-size: 65536
  udp-timeout: 300
  iproute2-table-index: 2022
  iproute2-rule-index: 9000
  endpoint-independent-nat: false
  route-address-set:
    - ruleset-1
  route-exclude-address-set:
    - ruleset-2
  route-address:
    - 0.0.0.0/1
    - 128.0.0.0/1
    - "::/1"
    - "8000::/1"
  route-exclude-address:
    - 192.168.0.0/16
    - fc00::/7
  include-interface:
    - eth0
  exclude-interface:
    - eth1
  include-uid:
    - 0
  include-uid-range:
    - 1000:9999
  exclude-uid:
    - 1000
  exclude-uid-range:
    - 1000:9999
  include-android-user:
    - 0
    - 10
  include-package:
    - com.android.chrome
  exclude-package:
    - com.android.captiveportallogin

rules:

#è‡ªå®šä¹‰è§„åˆ™
  - DOMAIN-KEYWORD,youtube,å›½é™…åª’ä½“
  - DOMAIN-SUFFIX,googlevideo.com,å›½é™…åª’ä½“
  - DOMAIN-KEYWORD,google,AI
  - DOMAIN-KEYWORD,claude,AI
  - DOMAIN,api-proxy.me,AI
  - DOMAIN,grok.com,AI  
  - DOMAIN-KEYWORD,ai,AI
  - DOMAIN,api.theoremhub.asia,DIRECT
  - DOMAIN-KEYWORD,cloudflare.com,å”¯å¿«ä¸ç ´
  - DOMAIN-SUFFIX,nvidia.com,AI
  - DOMAIN-SUFFIX,cloudflare.com,DIRECT
  - DOMAIN-SUFFIX,immersive-translate.owenyoung.com,REJECT
  - DOMAIN-SUFFIX,immersivetranslate.com,REJECT
  - DOMAIN-SUFFIX,test-api2.immersivetranslate.com,REJECT
  - DOMAIN-SUFFIX,api2.immersivetranslate.com,REJECT
  - DOMAIN-SUFFIX,config.immersivetranslate.com,REJECT
  - DOMAIN-SUFFIX,app.immersivetranslate.com,REJECT
  - DOMAIN-SUFFIX,dash.immersivetranslate.com,REJECT
  - DOMAIN-SUFFIX,api.immersivetranslate.com,REJECT
  - DOMAIN-SUFFIX,immersive-translate.deno.dev,REJECT
  - DOMAIN-SUFFIX,ai.immersivetranslate.com,REJECT
  - DOMAIN-SUFFIX,test-ai.immersivetranslate.com,REJECT
  - DOMAIN-KEYWORD,immersivetranslate,REJECT
  - DOMAIN-KEYWORD,immersive-translate,REJECT

  # è§£é”AI
  - RULE-SET,ai,AI
  - RULE-SET,Gemini,AI
  - RULE-SET,Claude,AI
  - RULE-SET,Google,è°·æ­ŒæœåŠ¡
  - DOMAIN,meta.ai,AI
  - DOMAIN,claude.ai,AI
  - DOMAIN,groq.com,AI
  - DOMAIN-SUFFIX,console.anthropic.com,AI
  - DOMAIN,anthropic.com,AI
  - DOMAIN,claude.ai,AI
  - DOMAIN,console.anthropic.com,AI
  - DOMAIN,anthropic.com,AI
  - DOMAIN-SUFFIX,aistudio.google.com,AI
  - DOMAIN,browser-intake-datadoghq.com,AI
  - DOMAIN,static.cloudflareinsights.com,AI
  - DOMAIN,ai-pro.org,AI
  - DOMAIN-SUFFIX,ai.com,AI
  - DOMAIN-SUFFIX,algolia.net,AI
  - DOMAIN-SUFFIX,api.statsig.com,AI
  - DOMAIN-SUFFIX,auth0.com,AI
  - DOMAIN-SUFFIX,chatgpt.com,AI
  - DOMAIN-SUFFIX,chatgpt.livekit.cloud,AI
  - DOMAIN-SUFFIX,client-api.arkoselabs.com,AI
  - DOMAIN-SUFFIX,events.statsigapi.net,AI
  - DOMAIN-SUFFIX,featuregates.org,AI
  - DOMAIN-SUFFIX,host.livekit.cloud,AI
  - DOMAIN-SUFFIX,identrust.com,AI
  - DOMAIN-SUFFIX,intercom.io,AI
  - DOMAIN-SUFFIX,intercomcdn.com,AI
  - DOMAIN-SUFFIX,launchdarkly.com,AI
  - DOMAIN-SUFFIX,oaistatic.com,AI
  - DOMAIN-SUFFIX,oaiusercontent.com,AI
  - DOMAIN-SUFFIX,observeit.net,AI
  - DOMAIN-SUFFIX,poe.com,AI
  - DOMAIN-SUFFIX,segment.io,AI
  - DOMAIN-SUFFIX,sentry.io,AI
  - DOMAIN-SUFFIX,stripe.com,AI
  - DOMAIN-SUFFIX,turn.livekit.cloud,AI
  - DOMAIN-KEYWORD,openai,AI

  - DOMAIN-SUFFIX,googleapis.com,AI # Google chat æœåŠ¡
  - DOMAIN-SUFFIX,gstatic.com,AI # Googleé™æ€èµ„æº
  - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,AI # Google Playä¸‹è½½æœåŠ¡
  - DOMAIN-SUFFIX,github.io,AI #Github Pages
  - DOMAIN-SUFFIX,dadada.acaisbest.com,å”¯å¿«ä¸ç ´
  - DOMAIN-SUFFIX,isroots.com,AI
  - DOMAIN-KEYWORD,marscode,AI
  - DOMAIN-SUFFIX,appmiu.com,Direct
  - DOMAIN,v2rayse.com,å”¯å¿«ä¸ç ´ # V2rayseèŠ‚ç‚¹å·¥å…·
  - DOMAIN-KEYWORD,cocopilot.org,å”¯å¿«ä¸ç ´
  - DOMAIN-KEYWORD,n256,Direct
  - DOMAIN-SUFFIX,quark.cn,Direct
  - DOMAIN-KEYWORD,alipan,Direct
  - DOMAIN-KEYWORD,learning.google.com,AI
  - RULE-SET,AD,å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,AI,AI
  - RULE-SET,Apple,è‹¹æœæœåŠ¡
  - RULE-SET,Telegram,ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,Twitter,æ¨ç‰¹æ¶ˆæ¯
  - RULE-SET,Steam,æ¸¸æˆå¹³å°
  - RULE-SET,Epic,æ¸¸æˆå¹³å°
  - RULE-SET,Emby,Emby
  - RULE-SET,Spotify,å›½é™…åª’ä½“
  - RULE-SET,Bahamut,å›½é™…åª’ä½“
  - RULE-SET,Netflix,å›½é™…åª’ä½“
  - RULE-SET,Disney,å›½é™…åª’ä½“
  - RULE-SET,PrimeVideo,å›½é™…åª’ä½“
  - RULE-SET,HBO,å›½é™…åª’ä½“
  - GEOSITE,gfw,å›½å¤–ç½‘ç«™
  - GEOSITE,onedrive,å¾®è½¯æœåŠ¡
  - GEOSITE,github,å¾®è½¯æœåŠ¡
  - GEOSITE,microsoft,å¾®è½¯æœåŠ¡
  - RULE-SET,China,DIRECT
  - GEOIP,lan,DIRECT
  - GEOIP,CN,DIRECT
# æœåŠ¡ç±»
  - RULE-SET,YouTube,å›½é™…åª’ä½“
  - RULE-SET,TikTok,å›½é™…åª’ä½“
  - RULE-SET,PayPal,å”¯å¿«ä¸ç ´
  - RULE-SET,telegramcidr,å”¯å¿«ä¸ç ´
  - DOMAIN-KEYWORD,oaifree,DIRECT
  - DOMAIN-SUFFIX,shared.oaifree.com,DIRECT
  
# å±è”½å¹¿å‘Š
  - RULE-SET,AdBlock,å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,reject,å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanAD,å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanProgramAD,å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanEasyList,å¹¿å‘Šæ‹¦æˆª
  
# è¡¥ä¸è§„åˆ™
  - RULE-SET,gfw,å”¯å¿«ä¸ç ´
  - RULE-SET,proxy,å”¯å¿«ä¸ç ´
  - RULE-SET,tld-not-cn,å”¯å¿«ä¸ç ´
  - RULE-SET,ProxyGFWlist,å”¯å¿«ä¸ç ´
  - RULE-SET,ProxyClient,å”¯å¿«ä¸ç ´
  - RULE-SET,ChinaDomain,DIRECT,no-resolve
  - RULE-SET,ChinaCompanyIp,DIRECT,no-resolve
  - RULE-SET,cncidr,DIRECT,no-resolve
  - RULE-SET,China,DIRECT,no-resolve
  - RULE-SET,lancidr,DIRECT,no-resolve
  - RULE-SET,collection,DIRECT,no-resolve

# é»˜è®¤è§„åˆ™ 
  - GEOIP,CN,DIRECT,no-resolve
  - GEOSITE,geolocation-cn,DIRECT
  - GEOSITE,geolocation-!cn,å”¯å¿«ä¸ç ´
  - MATCH,å…œåº•åˆ†æµ